<!doctype html>
<html lang="ar" dir="rtl">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="theme-color" content="#0b0f1a" />
    <title>Pi Vitrina</title>
    <link rel="stylesheet" href="styles.css" />
  </head>
  <body>
    <div class="app">
      <main class="content">
        <section class="page is-active" data-page="home">
          <div class="home-header">
            <div class="brand">
              <div class="brand-mark" aria-hidden="true">ฯ</div>
              <div class="brand-name">Pi Vitrina</div>
            </div>
            <div class="home-actions">
              <button id="themeToggle" class="icon-btn icon-sq" type="button" aria-label="ุชุจุฏูู ุงููุถุน ุงูุฏุงูู">โพ</button>
              <button class="icon-btn icon-sq" type="button" data-toast="ุงููุบุฉ (ูุงุฌูุฉ ููุท)" aria-label="ุงููุบุฉ">ุน</button>
            </div>
          </div>

          <div class="search-row">
            <button id="homeAddProductBtn" class="btn btn-primary btn-sm" type="button">+</button>
            <div class="search search-home">
              <svg class="ico" viewBox="0 0 24 24" aria-hidden="true">
                <circle cx="11" cy="11" r="7"></circle>
                <path d="M20 20l-3.5-3.5"></path>
              </svg>
              <input id="productSearch" class="search-input" type="text" placeholder="ุงุจุญุซ ุนู ุงูููุชุฌุงุช..." />
            </div>
            <button id="localProductsBtn" class="icon-btn icon-sq" type="button" aria-label="ููุชุฑุฉ ุญุณุจ ุงููููุน" aria-pressed="false">๐</button>
            <button id="viewBtn" class="icon-btn icon-sq" type="button" aria-label="ุงูุนุฑุถ">
              <svg class="ico" viewBox="0 0 24 24" aria-hidden="true">
                <path d="M4 6h16"></path>
                <path d="M4 12h16"></path>
                <path d="M4 18h16"></path>
              </svg>
            </button>
          </div>

          <div id="homeSponsoredBanner" class="sponsored-banner" hidden></div>

          <div id="categoryRow" class="cats" aria-label="ุงููุฆุงุช"></div>
          <div id="productsList" class="list products"></div>

          <div id="homeAddProductCard" class="card" hidden>
            <div class="card-title">ุฅุถุงูุฉ ููุชุฌ</div>
            <form id="addProductForm" class="stack" autocomplete="off">
              <div class="field">
                <label class="label" for="prodTitle">ุงุณู ุงูููุชุฌ</label>
                <input id="prodTitle" class="input" type="text" maxlength="20"  placeholder="ูุซุงู: ุณูุงุนุงุช" required />
              </div>
              <div class="grid-2">
                <div class="field">
                  <label class="label" for="prodCategory">ุงููุฆุฉ</label>
                  <select id="prodCategory" class="input" required>
                    <option value="ุฅููุชุฑูููุงุช">ุฅููุชุฑูููุงุช</option>
                    <option value="ุทุนุงู">ุทุนุงู</option>
                    <option value="ุฃุฒูุงุก">ุฃุฒูุงุก</option>
                    <option value="ุงูููุฒู">ุงูููุฒู</option>
                  </select>
                </div>
                <div class="field">
                  <label class="label" for="prodPrice">ุงูุณุนุฑ (ฯ)</label>
                  <input id="prodPrice" class="input" type="number" min="0" step="0.00001" placeholder="10" required />
                </div>
              </div>

              <div class="field">
                <label class="label" for="prodImage">ุตูุฑุฉ ุงูููุชุฌ</label>
                <input id="prodImage" class="input" type="file" accept="image/*" />
              </div>

              <div id="prodImagePreviewWrap" class="img-preview-wrap" hidden>
                <div class="img-preview-head">
                  <div id="prodImagePreviewMeta" class="muted"></div>
                  <button id="prodImageClearBtn" class="btn btn-outline btn-sm" type="button">ุฅุฒุงูุฉ</button>
                </div>
                <div class="img-preview">
                  <img id="prodImagePreview" class="img-preview-img" alt="ูุนุงููุฉ ุตูุฑุฉ ุงูููุชุฌ" />
                </div>
                <label class="local-radio">
                  <input id="prodImageCrop" type="checkbox" checked />
                  <span class="local-radio-main">
                    <span class="local-radio-title">ูุต ุชููุงุฆู (ูุฑุจุน)</span>
                    <span class="local-radio-desc">ูููู ุจูุต ุงูุตูุฑุฉ ูู ุงููุณุท ูุชูุงุณุจ ุงูุนุฑุถ</span>
                  </span>
                </label>
                <div class="field">
                  <label class="label" for="prodImageQuality">ุฌูุฏุฉ ุงูุตูุฑุฉ</label>
                  <input id="prodImageQuality" class="input" type="range" min="0.5" max="0.95" step="0.05" value="0.82" />
                  <div id="prodImageQualityHint" class="muted"></div>
                </div>
              </div>

              <div class="grid-2">
                <div class="field">
                  <label class="label" for="prodCountry">ุงูุจูุฏ</label>
                  <input id="prodCountry" class="input" type="text" maxlength="20"  placeholder="ูุซุงู: ุงููุบุฑุจ" />
                </div>
                <div class="field">
                  <label class="label" for="prodRegion">ุงูุฌูุฉ</label>
                  <input id="prodRegion" class="input" type="text" maxlength="20" placeholder="ูุซุงู: ุงูุฏุงุฑ ุงูุจูุถุงุก ุณุทุงุช" />
                </div>
              </div>
              <div class="field">
                <label class="label" for="prodCity">ุงููุฏููุฉ</label>
                <input id="prodCity" class="input" type="text" maxlength="20" placeholder="ูุซุงู: ุงูุฏุงุฑ ุงูุจูุถุงุก" />
              </div>
              <label class="local-radio">
                <input id="prodNoLocation" type="checkbox" />
                <span class="local-radio-main">
                  <span class="local-radio-title">ูุง ุฃุฑูุฏ ูุถุน ุงููููุน</span>
                </span>
              </label>
              <div class="field">
                <label class="label" for="prodDesc">ุงููุตู</label>
                <textarea id="prodDesc" class="input" rows="3" maxlength="60" placeholder="ุงูุชุจ ูุตูุงู ููููุชุฌ..."></textarea>
              </div>
              <div class="grid-2">
                <button class="btn btn-primary w-full" type="submit">ูุดุฑ ุงูููุชุฌ</button>
                <button id="homeAddProductCancelBtn" class="btn btn-outline w-full" type="button">ุฅูุบุงุก</button>
              </div>
            </form>
          </div>
        </section>

        <section class="page" data-page="product">
          <div class="topbar">
            <button id="productBackBtn" class="icon-btn" type="button" aria-label="ุฑุฌูุน">โ</button>
            <h1 class="title">ุชูุงุตูู ุงูููุชุฌ</h1>
            <span></span>
          </div>

          <div id="productDetailsRoot"></div>
        </section>

        <section class="page" data-page="vendors">
          <div class="topbar">
            <h1 class="title">ุงููุชุงุฌุฑ</h1>
            <button id="rentBoothBtn" class="btn btn-primary btn-sm" type="button">+ ุงุณุชุฆุฌุงุฑ</button>
          </div>

          <div class="search">
            <input id="vendorSearch" class="search-input" type="text" placeholder="ุงุจุญุซ ุนู ุงููุชุงุฌุฑ..." />
          </div>

          <div id="vendorRentCard" class="card" hidden>
            <div class="card-title">ุงุณุชุฆุฌุงุฑ ูุดู</div>
            <form id="rentBoothForm" class="stack" autocomplete="off">
              <div class="field">
                <label class="label" for="vendorName">ุงุณู ุงููุชุฌุฑ</label>
                <input id="vendorName" class="input" type="text" placeholder="ูุซุงู: viperco store" required />
              </div>
              <div class="grid-2">
                <div class="field">
                  <label class="label" for="vendorCategory">ุงูุชุตููู</label>
                  <select id="vendorCategory" class="input" required>
                    <option value="ุฅููุชุฑูููุงุช">ุฅููุชุฑูููุงุช</option>
                    <option value="ุทุนุงู">ุทุนุงู</option>
                    <option value="ุฃุฒูุงุก">ุฃุฒูุงุก</option>
                    <option value="ุงูููุฒู">ุงูููุฒู</option>
                  </select>
                </div>
                <div class="field">
                  <label class="label" for="vendorBooth">ุงููุดู ุงููุทููุจ</label>
                  <input id="vendorBooth" class="input" type="text" placeholder="ูุซุงู: A1" required />
                </div>
              </div>
              <div class="grid-2">
                <button class="btn btn-primary w-full" type="submit">ุฅุฑุณุงู ุงูุทูุจ</button>
                <button id="rentBoothCancelBtn" class="btn btn-outline w-full" type="button">ุฅูุบุงุก</button>
              </div>
            </form>
          </div>

          <div id="vendorsList" class="list"></div>
        </section>

        <section class="page" data-page="chat">
          <div class="chat-topbar">
            <div class="chat-left">
              <div class="avatar avatar-sm"></div>
              <div>
                <div id="chatTitle" class="chat-name">ุงูุฏุฑุฏุดุฉ</div>
                <div id="chatSub" class="chat-sub"><span class="online"></span> ูุชุตู</div>
              </div>
            </div>
            <div class="chat-actions">
              <button id="chatBackBtn" class="icon-btn" type="button" aria-label="ุฑุฌูุน" hidden>โ</button>
            </div>
          </div>

          <div id="chatThreads" class="list"></div>
          <div id="chatBody" class="chat-body"></div>

          <form id="chatForm" class="chat-input" autocomplete="off">
            <input id="chatText" class="chat-text" type="text" placeholder="ุงูุชุจ ุฑุณุงูุฉ..." />
            <button class="send" type="submit" aria-label="ุฅุฑุณุงู">โ</button>
          </form>
        </section>

        <section class="page" data-page="ads">
          <div class="topbar">
            <h1 class="title">ุทูุจุงุช ุงูุฅุนูุงูุงุช</h1>
            <button id="adsRequestBtn" class="btn btn-primary btn-sm" type="button">+ ุทูุจ</button>
          </div>

          <div id="adsRequestCard" class="card" hidden>
            <div class="card-title">ุทูุจ ุฅุนูุงู</div>
            <form id="adsRequestForm" class="stack" autocomplete="off">
              <div class="field">
                <label class="label" for="adTitle">ุนููุงู ุงูุฅุนูุงู</label>
                <input id="adTitle" class="input" type="text" placeholder="ูุซุงู: ุชุฎููุถ ูุจูุฑ ุนูู ุงูููุชุฌุงุช" required />
              </div>
              <div class="field">
                <label class="label" for="adDesc">ูุตู ุงูุฅุนูุงู</label>
                <input id="adDesc" class="input" type="text" placeholder="ุงูุชุจ ูุตูุงู ูุตูุฑุงู" required />
              </div>
              <div class="grid-2">
                <div class="field">
                  <label class="label" for="adBudget">ุงูููุฒุงููุฉ (ฯ)</label>
                  <input id="adBudget" class="input" type="number" min="1" step="1" placeholder="50" required />
                </div>
                <div class="field">
                  <label class="label" for="adDuration">ุงููุฏุฉ (ุฃูุงู)</label>
                  <input id="adDuration" class="input" type="number" min="1" step="1" placeholder="7" required />
                </div>
              </div>
              <div class="grid-2">
                <button class="btn btn-primary w-full" type="submit">ุฅุฑุณุงู ุงูุทูุจ</button>
                <button id="adsRequestCancelBtn" class="btn btn-outline w-full" type="button">ุฅูุบุงุก</button>
              </div>
            </form>
          </div>

          <div id="adsList" class="list"></div>
        </section>

        <section class="page" data-page="profile">
          <div class="topbar">
            <h1 class="title">ุงูููู ุงูุดุฎุตู</h1>
            <button class="btn btn-outline btn-sm" type="button" data-toast="ุงูุฅุนุฏุงุฏุงุช (ูุงุฌูุฉ ููุท)">ุงูุฅุนุฏุงุฏุงุช</button>
          </div>

          <div id="profileRoot"></div>
        </section>
      </main>

      <nav class="bottom-nav" aria-label="ุงูุชููู ุงูุณููู">
        <button class="nav-item is-active" type="button" data-nav="home">
          <span class="nav-ico">
            <svg class="ico" viewBox="0 0 24 24" aria-hidden="true">
              <path d="M3 10.5 12 3l9 7.5"></path>
              <path d="M5 10.5V21a1.5 1.5 0 0 0 1.5 1.5H10V14h4v8.5h3.5A1.5 1.5 0 0 0 19 21V10.5"></path>
            </svg>
          </span>
          <span class="nav-label">ุงูุฑุฆูุณูุฉ</span>
        </button>
        <button class="nav-item" type="button" data-nav="vendors">
          <span class="nav-ico">
            <svg class="ico" viewBox="0 0 24 24" aria-hidden="true">
              <path d="M4 10h16v11a1.5 1.5 0 0 1-1.5 1.5h-13A1.5 1.5 0 0 1 4 21z"></path>
              <path d="M3 10 5 3h14l2 7"></path>
              <path d="M9 22.5V16h6v6.5"></path>
            </svg>
          </span>
          <span class="nav-label">ุงููุชุงุฌุฑ</span>
        </button>
        <button class="nav-item" type="button" data-nav="chat">
          <span class="nav-ico">
            <svg class="ico" viewBox="0 0 24 24" aria-hidden="true">
              <path d="M20 15a4 4 0 0 1-4 4H9l-5 3V7a4 4 0 0 1 4-4h8a4 4 0 0 1 4 4z"></path>
              <path d="M8 9h8"></path>
              <path d="M8 12h6"></path>
            </svg>
          </span>
          <span class="nav-label">ุงูุฏุฑุฏุดุฉ</span>
        </button>
        <button class="nav-item" type="button" data-nav="ads">
          <span class="nav-ico">
            <svg class="ico" viewBox="0 0 24 24" aria-hidden="true">
              <path d="M3 11v2a2 2 0 0 0 2 2h2l2 5h3l-1.5-5H16l5-2V9l-5-2H5a2 2 0 0 0-2 2z"></path>
              <path d="M16 7v10"></path>
            </svg>
          </span>
          <span class="nav-label">ุงูุฅุนูุงูุงุช</span>
        </button>
        <button class="nav-item" type="button" data-nav="profile">
          <span class="nav-ico">
            <svg class="ico" viewBox="0 0 24 24" aria-hidden="true">
              <path d="M20 21a8 8 0 0 0-16 0"></path>
              <path d="M12 13a4 4 0 1 0-4-4 4 4 0 0 0 4 4z"></path>
            </svg>
          </span>
          <span class="nav-label">ุงูุญุณุงุจ</span>
        </button>
      </nav>
    </div>

    <div id="localSheet" class="sheet-overlay" hidden>
      <div class="sheet" role="dialog" aria-modal="true" aria-label="ุงููููุน">
        <div class="sheet-header">
          <button id="localSheetClose" class="icon-btn icon-sq" type="button" aria-label="ุฅุบูุงู">ร</button>
          <div class="sheet-title">ุงููููุน</div>
          <div class="sheet-spacer" aria-hidden="true"></div>
        </div>

        <div class="sheet-body">
          <div class="grid-2">
            <div class="field">
              <label class="label" for="localCountryInput">ุงูุจูุฏ</label>
              <input id="localCountryInput" class="input" type="text" placeholder="ูุซุงู: ุงููุบุฑุจ" />
            </div>
            <div class="field">
              <label class="label" for="localRegionInput">ุงูุฌูุฉ</label>
              <input id="localRegionInput" class="input" type="text" placeholder="ูุซุงู: ุงูุฏุงุฑ ุงูุจูุถุงุก ุณุทุงุช" />
            </div>
          </div>

          <div class="field">
            <label class="label" for="localCityInput">ุงููุฏููุฉ</label>
            <input id="localCityInput" class="input" type="text" placeholder="ูุซุงู: ุงูุฏุงุฑ ุงูุจูุถุงุก" />
          </div>

          <div class="card local-place-card">
            <div class="row-between">
              <div>
                <div id="localPlaceName" class="card-title">ุงุฎุชุฑ ูุฏููุฉ</div>
              </div>
              <div class="local-place-actions">
                <button id="localEditBtn" class="btn btn-outline btn-sm" type="button">ุชุนุฏูู</button>
              </div>
            </div>
          </div>

          <div class="sheet-section-title">ุงููุทุงู</div>
          <label class="local-radio">
            <input id="localOnlyToggle" type="checkbox" />
            <span class="local-radio-main">
              <span class="local-radio-title">ุนุฑุถ ุงูููุชุฌุงุช ุงููุญููุฉ ููุท</span>
              <span class="local-radio-desc">ุชูุนูู ุงูููุชุฑุฉ ุญุณุจ ุงููููุน</span>
            </span>
          </label>

          <div class="local-footer">
            <button id="localApplyBtn" class="btn btn-primary w-full" type="button">ุชุทุจูู</button>
          </div>
        </div>
      </div>
    </div>

    <div id="toast" class="toast" role="status" aria-live="polite" aria-atomic="true"></div>

    <script>
      window.FIREBASE_CONFIG = window.FIREBASE_CONFIG || {
        apiKey: "AIzaSyCz7OoXXwfeota0pWQIiMHlOONbZ_8eIC0",

        authDomain: "coin-mastre.firebaseapp.com",

        databaseURL: "https://coin-mastre-default-rtdb.firebaseio.com",

        projectId: "coin-mastre",

        storageBucket: "coin-mastre.appspot.com",

        messagingSenderId: "852119585248",

        appId: "1:852119585248:web:0b58cec5e51525a80fab85",

        measurementId: "G-T4MXH2PWL7"

      };
    </script>
    <script src="https://www.gstatic.com/firebasejs/10.7.1/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/10.7.1/firebase-auth-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/10.7.1/firebase-firestore-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/10.7.1/firebase-storage-compat.js"></script>
    <script src="https://sdk.minepi.com/pi-sdk.js"></script>
    <script src="app.js"></script>
  </body>
</html>
